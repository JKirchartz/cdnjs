var prettyPrint=function(){var util={el:function(type,attrs){var attr,el=document.createElement(type);attrs=util.merge({},attrs),attrs&&attrs.style&&(attrs.style,util.applyCSS(el,attrs.style),delete attrs.style);for(attr in attrs)attrs.hasOwnProperty(attr)&&(el[attr]=attrs[attr]);return el},applyCSS:function(el,styles){for(var prop in styles)if(styles.hasOwnProperty(prop))try{el.style[prop]=styles[prop]}catch(e){}},txt:function(t){return document.createTextNode(t)},row:function(cells,type,cellType){cellType=cellType||"td";var td,colSpan=util.count(cells,null)+1,tr=util.el("tr"),attrs={style:util.getStyles(cellType,type),colSpan:colSpan,onmouseover:function(){var tds=this.parentNode.childNodes;util.forEach(tds,function(cell){"td"===cell.nodeName.toLowerCase()&&util.applyCSS(cell,util.getStyles("td_hover",type))})},onmouseout:function(){var tds=this.parentNode.childNodes;util.forEach(tds,function(cell){"td"===cell.nodeName.toLowerCase()&&util.applyCSS(cell,util.getStyles("td",type))})}};return util.forEach(cells,function(cell){null!==cell&&(td=util.el(cellType,attrs),cell.nodeType?td.appendChild(cell):td.innerHTML=util.shorten(""+cell),tr.appendChild(td))}),tr},hRow:function(cells,type){return util.row(cells,type,"th")},table:function(headings,type){headings=headings||[];var attrs={thead:{style:util.getStyles("thead",type)},tbody:{style:util.getStyles("tbody",type)},table:{style:util.getStyles("table",type)}},tbl=util.el("table",attrs.table),thead=util.el("thead",attrs.thead),tbody=util.el("tbody",attrs.tbody);return headings.length&&(tbl.appendChild(thead),thead.appendChild(util.hRow(headings,type))),tbl.appendChild(tbody),{node:tbl,tbody:tbody,thead:thead,appendChild:function(node){this.tbody.appendChild(node)},addRow:function(cells,_type,cellType){return this.appendChild(util.row.call(util,cells,_type||type,cellType)),this}}},shorten:function(str){var max=40;return str=str.replace(/^\s\s*|\s\s*$|\n/g,""),str.length>max?str.substring(0,max-1)+"...":str},htmlentities:function(str){return str.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},merge:function(target,source){"object"!=typeof target&&(target={});for(var property in source)if(source.hasOwnProperty(property)){var sourceProperty=source[property];if("object"==typeof sourceProperty){target[property]=util.merge(target[property],sourceProperty);continue}target[property]=sourceProperty}for(var a=2,l=arguments.length;l>a;a++)util.merge(target,arguments[a]);return target},count:function(arr,item){for(var count=0,i=0,l=arr.length;l>i;i++)arr[i]===item&&count++;return count},thead:function(tbl){return tbl.getElementsByTagName("thead")[0]},forEach:function(arr,max,fn){fn||(fn=max);for(var len=arr.length,index=-1;len>++index&&fn(arr[index],index,arr)!==!1;);return!0},type:function(v){try{if(null===v)return"null";if(void 0===v)return"undefined";var oType=Object.prototype.toString.call(v).match(/\s(.+?)\]/)[1].toLowerCase();return v.nodeType?1===v.nodeType?"domelement":"domnode":/^(string|number|array|regexp|function|date|boolean)$/.test(oType)?oType:"object"==typeof v?v.jquery&&"string"==typeof v.jquery?"jquery":"object":v===window||v===document?"object":"default"}catch(e){return"default"}},within:function(ref){return{is:function(o){for(var i in ref)if(ref[i]===o)return i;return""}}},common:{circRef:function(obj,key){return util.expander("[POINTS BACK TO <strong>"+key+"</strong>]","Click to show this item anyway",function(){this.parentNode.appendChild(prettyPrintThis(obj,{maxDepth:1}))})},depthReached:function(obj){return util.expander("[DEPTH REACHED]","Click to show this item anyway",function(){try{this.parentNode.appendChild(prettyPrintThis(obj,{maxDepth:1}))}catch(e){this.parentNode.appendChild(util.table(["ERROR OCCURED DURING OBJECT RETRIEVAL"],"error").addRow([e.message]).node)}})}},getStyles:function(el,type){return type=prettyPrintThis.settings.styles[type]||{},util.merge({},prettyPrintThis.settings.styles["default"][el],type[el])},expander:function(text,title,clickFn){return util.el("a",{innerHTML:util.shorten(text)+' <b style="visibility:hidden;">[+]</b>',title:title,onmouseover:function(){this.getElementsByTagName("b")[0].style.visibility="visible"},onmouseout:function(){this.getElementsByTagName("b")[0].style.visibility="hidden"},onclick:function(){return this.style.display="none",clickFn.call(this),!1},style:{cursor:"pointer"}})},stringify:function(obj){var str,type=util.type(obj),first=!0;if("array"===type)return str="[",util.forEach(obj,function(item,i){str+=(0===i?"":", ")+util.stringify(item)}),str+"]";if("object"==typeof obj){str="{";for(var i in obj)obj.hasOwnProperty(i)&&(str+=(first?"":", ")+i+":"+util.stringify(obj[i]),first=!1);return str+"}"}return"regexp"===type?"/"+obj.source+"/":"string"===type?'"'+obj.replace(/"/g,'\\"')+'"':""+obj},headerGradient:function(){var canvas=document.createElement("canvas");if(!canvas.getContext)return"";var cx=canvas.getContext("2d");canvas.height=30,canvas.width=1;var linearGrad=cx.createLinearGradient(0,0,0,30);linearGrad.addColorStop(0,"rgba(0,0,0,0)"),linearGrad.addColorStop(1,"rgba(0,0,0,0.25)"),cx.fillStyle=linearGrad,cx.fillRect(0,0,1,30);var dataURL=canvas.toDataURL&&canvas.toDataURL();return"url("+(dataURL||"")+")"}()},prettyPrintThis=function(obj,options){options=options||{};var settings=util.merge({},prettyPrintThis.config,options),container=util.el("div"),currentDepth=(prettyPrintThis.config,0),stack={},hasRunOnce=!1;prettyPrintThis.settings=settings;var typeDealer={string:function(item){return util.txt('"'+util.shorten(item.replace(/"/g,'\\"'))+'"')},number:function(item){return util.txt(item)},regexp:function(item){var miniTable=util.table(["RegExp",null],"regexp"),flags=util.table(),span=util.expander("/"+item.source+"/","Click to show more",function(){this.parentNode.appendChild(miniTable.node)});return flags.addRow(["g",item.global]).addRow(["i",item.ignoreCase]).addRow(["m",item.multiline]),miniTable.addRow(["source","/"+item.source+"/"]).addRow(["flags",flags.node]).addRow(["lastIndex",item.lastIndex]),settings.expanded?miniTable.node:span},domelement:function(element){var miniTable=util.table(["DOMElement",null],"domelement"),props=["id","className","innerHTML","src","href"],elname=element.nodeName||"";return miniTable.addRow(["tag","&lt;"+elname.toLowerCase()+"&gt;"]),util.forEach(props,function(prop){element[prop]&&miniTable.addRow([prop,util.htmlentities(element[prop])])}),settings.expanded?miniTable.node:util.expander("DOMElement ("+elname.toLowerCase()+")","Click to show more",function(){this.parentNode.appendChild(miniTable.node)})},domnode:function(node){var miniTable=util.table(["DOMNode",null],"domelement"),data=util.htmlentities((node.data||"UNDEFINED").replace(/\n/g,"\\n"));return miniTable.addRow(["nodeType",node.nodeType+" ("+node.nodeName+")"]).addRow(["data",data]),settings.expanded?miniTable.node:util.expander("DOMNode","Click to show more",function(){this.parentNode.appendChild(miniTable.node)})},jquery:function(obj,depth,key){return typeDealer.array(obj,depth,key,!0)},object:function(obj,depth,key){var stackKey=util.within(stack).is(obj);if(stackKey)return util.common.circRef(obj,stackKey,settings);if(stack[key||"TOP"]=obj,depth===settings.maxDepth)return util.common.depthReached(obj,settings);var table=util.table(["Object",null],"object"),isEmpty=!0;for(var i in obj)if(!obj.hasOwnProperty||obj.hasOwnProperty(i)){var item=obj[i],type=util.type(item);isEmpty=!1;try{table.addRow([i,typeDealer[type](item,depth+1,i)],type)}catch(e){window.console&&window.console.log&&console.log(e.message)}}isEmpty?table.addRow(["<small>[empty]</small>"]):table.thead.appendChild(util.hRow(["key","value"],"colHeader"));var ret=settings.expanded||hasRunOnce?table.node:util.expander(util.stringify(obj),"Click to show more",function(){this.parentNode.appendChild(table.node)});return hasRunOnce=!0,ret},array:function(arr,depth,key,jquery){var stackKey=util.within(stack).is(arr);if(stackKey)return util.common.circRef(arr,stackKey);if(stack[key||"TOP"]=arr,depth===settings.maxDepth)return util.common.depthReached(arr);var me=jquery?"jQuery":"Array",table=util.table([me+"("+arr.length+")",null],jquery?"jquery":me.toLowerCase()),isEmpty=!0,count=0;return jquery&&table.addRow(["selector",arr.selector]),util.forEach(arr,function(item,i){return settings.maxArray>=0&&++count>settings.maxArray?(table.addRow([i+".."+(arr.length-1),typeDealer[util.type(item)]("...",depth+1,i)]),!1):(isEmpty=!1,table.addRow([i,typeDealer[util.type(item)](item,depth+1,i)]),void 0)}),jquery||(isEmpty?table.addRow(["<small>[empty]</small>"]):table.thead.appendChild(util.hRow(["index","value"],"colHeader"))),settings.expanded?table.node:util.expander(util.stringify(arr),"Click to show more",function(){this.parentNode.appendChild(table.node)})},"function":function(fn,depth,key){var stackKey=util.within(stack).is(fn);if(stackKey)return util.common.circRef(fn,stackKey);stack[key||"TOP"]=fn;var miniTable=util.table(["Function",null],"function"),args=(util.table(["Arguments"]),(""+fn).match(/\((.+?)\)/)),body=(""+fn).match(/\(.*?\)\s+?\{?([\S\s]+)/)[1].replace(/\}?$/,"");return miniTable.addRow(["arguments",args?args[1].replace(/[^\w_,\s]/g,""):"<small>[none/native]</small>"]).addRow(["body",body]),settings.expanded?miniTable.node:util.expander("function(){...}","Click to see more about this function.",function(){this.parentNode.appendChild(miniTable.node)})},date:function(date){var miniTable=util.table(["Date",null],"date"),sDate=(""+date).split(/\s/);return miniTable.addRow(["Time",sDate[4]]).addRow(["Date",sDate.slice(0,4).join("-")]),settings.expanded?miniTable.node:util.expander("Date (timestamp): "+ +date,"Click to see a little more info about this date",function(){this.parentNode.appendChild(miniTable.node)})},"boolean":function(bool){return util.txt((""+bool).toUpperCase())},undefined:function(){return util.txt("UNDEFINED")},"null":function(){return util.txt("NULL")},"default":function(){return util.txt("prettyPrint: TypeNotFound Error")}};return container.appendChild(typeDealer[settings.forceObject?"object":util.type(obj)](obj,currentDepth)),container};return prettyPrintThis.config={expanded:!0,forceObject:!1,maxDepth:3,maxArray:-1,styles:{array:{th:{backgroundColor:"#6DBD2A",color:"white"}},"function":{th:{backgroundColor:"#D82525"}},regexp:{th:{backgroundColor:"#E2F3FB",color:"#000"}},object:{th:{backgroundColor:"#1F96CF"}},jquery:{th:{backgroundColor:"#FBF315"}},error:{th:{backgroundColor:"red",color:"yellow"}},domelement:{th:{backgroundColor:"#F3801E"}},date:{th:{backgroundColor:"#A725D8"}},colHeader:{th:{backgroundColor:"#EEE",color:"#000",textTransform:"uppercase"}},"default":{table:{borderCollapse:"collapse",width:"100%"},td:{padding:"5px",fontSize:"12px",backgroundColor:"#FFF",color:"#222",border:"1px solid #000",verticalAlign:"top",fontFamily:'"Consolas","Lucida Console",Courier,mono',whiteSpace:"nowrap"},td_hover:{},th:{padding:"5px",fontSize:"12px",backgroundColor:"#222",color:"#EEE",textAlign:"left",border:"1px solid #000",verticalAlign:"top",fontFamily:'"Consolas","Lucida Console",Courier,mono',backgroundImage:util.headerGradient,backgroundRepeat:"repeat-x"}}}},prettyPrintThis}();